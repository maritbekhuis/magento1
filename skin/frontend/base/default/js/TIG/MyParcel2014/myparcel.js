// Generated by CoffeeScript 1.10.0
(function() {
    var CARRIER, MORNING_PICKUP, NATIONAL, NORMAL_PICKUP, PICKUP_TIMES, displayOtherTab, fetchDeliveryOptions, initialize, makeSlider, obj, orderDays, preparePickup, renderDays, renderExpressPickup, renderPage, renderPickup, renderPickupLocation, slideLeft, slideRight;

    window.mypa = {
        fn: {},
        settings: {},
        data: {}
    };

    NATIONAL = 'NL';

    CARRIER = 1;

    MORNING_PICKUP = '08:30:00';

    NORMAL_PICKUP = '16:00:00';

    PICKUP_TIMES = (
        obj = {},
            obj["" + MORNING_PICKUP] = 'morning',
            obj["" + NORMAL_PICKUP] = 'normal',
            obj
    );

    displayOtherTab = function() {
        return jQuery('.mypa-tab-container').toggleClass('mypa-slider-pos-1').toggleClass('mypa-slider-pos-0');
    };

    window.mypa.fn.updatePage = function() {
        return fetchDeliveryOptions();
    };

    fetchDeliveryOptions = function(postal_code, number, street) {
        var options, settings, urlBase;
        settings = window.mypa.settings;
        //urlBase = "api/delivery_options";
        urlBase = "https://api.myparcel.nl/delivery_options";
        if (number == null) {
            number = settings.number;
        }
        if (number == null) {
            number = 100;
        }
        if (postal_code == null) {
            postal_code = settings.postal_code;
        }
        if (postal_code == null) {
            postal_code = "1442CE";
        }
        if (street == null) {
            street = settings.street;
        }
        jQuery('.mypa-location').html("" + street);
        options = {
            url: urlBase,
            data: {
                cc: NATIONAL,
                carrier: CARRIER,
                number: number,
                postal_code: postal_code,
                delivery_time: settings.delivery_time != null ? settings.delivery_time : void 0,
                delivery_date: settings.delivery_date != null ? settings.delivery_date : void 0,
                cutoff_time: settings.cutoff_time != null ? settings.cutoff_time : void 0,
                dropoff_days: settings.dropoff_days != null ? settings.dropoff_days : void 0,
                dropoff_delay: settings.dropoff_delay != null ? settings.dropoff_delay : void 0,
                deliverydays_window: settings.deliverydays_window != null ? settings.deliverydays_window : void 0,
                exlude_delivery_type: settings.exclude_delivery_type != null ? settings.exclude_delivery_type : void 0
            },
            success: renderPage,
            error: function (xhr, status) {
                console.log(xhr);
                console.log(status);
                renderPage({"data":{"delivery":[{"date":"2016-05-31","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"12:30:00","end":"16:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-01","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"12:00:00","end":"14:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-02","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"11:30:00","end":"13:30:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-03","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"11:30:00","end":"13:30:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-04","time":[{"start":"11:00:00","end":"13:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2}]},{"date":"2016-06-07","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"12:30:00","end":"16:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-08","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"12:00:00","end":"14:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-09","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"11:30:00","end":"13:30:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-10","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"11:30:00","end":"13:30:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-11","time":[{"start":"11:00:00","end":"13:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2}]},{"date":"2016-06-14","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"12:30:00","end":"16:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-15","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1},{"start":"12:00:00","end":"14:00:00","price":{"currency":"EUR","amount":0},"price_comment":"standard","comment":"","type":2},{"start":"18:00:00","end":"21:30:00","price":{"currency":"EUR","amount":125},"price_comment":"avond","comment":"","type":3}]},{"date":"2016-06-06","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1}]},{"date":"2016-06-13","time":[{"start":"08:00:00","end":"12:00:00","price":{"currency":"EUR","amount":1000},"price_comment":"morning","comment":"","type":1}]}],"pickup":[{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Dio drogist","street":"John F. Kennedyplein","number":"63","postal_code":"1443EB","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-424443","opening_hours":{"monday":["09:00-18:00"],"tuesday":["09:00-18:00"],"wednesday":["09:00-18:00"],"thursday":["09:00-18:00"],"friday":["09:00-20:00"],"saturday":["09:00-17:00"],"sunday":[]},"distance":"819","location_code":"163404"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Primera","street":"Leeuwerikplein","number":"4","postal_code":"1444HW","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Pakketpunt. Pakketten die u op werkdagen v\u00f3\u00f3r lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-433906","opening_hours":{"monday":["11:00-18:00"],"tuesday":["09:00-18:00"],"wednesday":["09:00-18:00"],"thursday":["09:00-18:00"],"friday":["09:00-21:00"],"saturday":["09:00-17:00"],"sunday":[]},"distance":"899","location_code":"162820"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Bruna","street":"Hoogstraat","number":"4","postal_code":"1441BC","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-434455","opening_hours":{"monday":["09:00-18:00"],"tuesday":["09:00-18:00"],"wednesday":["09:00-18:00"],"thursday":["09:00-18:00"],"friday":["09:00-21:00"],"saturday":["09:00-17:00"],"sunday":[]},"distance":"970","location_code":"162330"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Karwei","street":"Neckerstraat","number":"14","postal_code":"1456BD","city":"Wijdewormer","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Pakketpunt. Pakketten die u op werkdagen v\u00f3\u00f3r lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-373737","opening_hours":{"monday":["09:00-21:00"],"tuesday":["09:00-21:00"],"wednesday":["09:00-21:00"],"thursday":["09:00-21:00"],"friday":["09:00-21:00"],"saturday":["09:00-18:00"],"sunday":["10:00-17:00"]},"distance":"1796","location_code":"172003"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Vivant gildeplein v.o.f.","street":"Gildeplein","number":"42","postal_code":"1445BM","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-644670","opening_hours":{"monday":["09:00-18:00"],"tuesday":["09:00-18:00"],"wednesday":["09:00-18:00"],"thursday":["09:00-18:00"],"friday":["09:00-18:00"],"saturday":["09:00-17:00"],"sunday":[]},"distance":"1938","location_code":"161300"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"DA drogist","street":"Zwanebloem","number":"9","postal_code":"1441TR","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Pakketpunt. Pakketten die u op werkdagen v\u00f3\u00f3r lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-660155","opening_hours":{"monday":["11:00-18:00"],"tuesday":["08:30-18:00"],"wednesday":["08:30-18:00"],"thursday":["08:30-18:00"],"friday":["08:30-18:00"],"saturday":["08:30-17:00"],"sunday":[]},"distance":"2079","location_code":"162822"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Dio drogist","street":"Van Burgplein","number":"10","postal_code":"1447KR","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Pakketpunt. Pakketten die u op werkdagen v\u00f3\u00f3r lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-643715","opening_hours":{"monday":["09:00-18:00"],"tuesday":["09:00-18:00"],"wednesday":["09:00-18:00"],"thursday":["09:00-18:00"],"friday":["09:00-18:00"],"saturday":["09:00-17:00"],"sunday":[]},"distance":"2234","location_code":"162254"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}},{"start":"08:30:00","type":5,"price":{"amount":125,"currency":"EUR"}}],"location":"All Office Kuipers","street":"Newtonstraat","number":"30","postal_code":"1446VR","city":"Purmerend","start_time":"08:30:00","price":125,"price_comment":"retailexpress","comment":"Dit is een Business Point. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-630000","opening_hours":{"monday":["08:00-18:30"],"tuesday":["08:00-18:30"],"wednesday":["08:00-18:30"],"thursday":["08:00-18:30"],"friday":["08:00-18:30"],"saturday":["08:00-09:00"],"sunday":[]},"distance":"2491","location_code":"160877"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Primera","street":"Van Damplein","number":"18","postal_code":"1448NB","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-473817","opening_hours":{"monday":["11:00-18:00"],"tuesday":["09:00-18:00"],"wednesday":["09:00-18:00"],"thursday":["09:00-18:00"],"friday":["09:00-20:00"],"saturday":["09:00-17:00"],"sunday":[]},"distance":"2265","location_code":"166493"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Gamma","street":"Einsteinstraat","number":"10","postal_code":"1446VG","city":"Purmerend","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Pakketpunt. Pakketten die u op werkdagen v\u00f3\u00f3r lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-647332","opening_hours":{"monday":["09:00-21:00"],"tuesday":["09:00-21:00"],"wednesday":["09:00-21:00"],"thursday":["09:00-21:00"],"friday":["09:00-21:00"],"saturday":["09:00-18:00"],"sunday":["10:00-17:00"]},"distance":"2704","location_code":"167587"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Deen","street":"Rijperweg","number":"50","postal_code":"1462ME","city":"Middenbeemster","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-456160","opening_hours":{"monday":["08:00-20:00"],"tuesday":["08:00-20:00"],"wednesday":["08:00-20:00"],"thursday":["08:00-20:00"],"friday":["08:00-20:00"],"saturday":["08:00-20:00"],"sunday":[]},"distance":"5200","location_code":"163068"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}},{"start":"08:30:00","type":5,"price":{"amount":125,"currency":"EUR"}}],"location":"Markee Boek & Kantoor","street":"Hoogstraat","number":"8","postal_code":"1135BZ","city":"Edam","start_time":"08:30:00","price":125,"price_comment":"retailexpress","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-373045","opening_hours":{"monday":["08:00-18:00"],"tuesday":["08:00-18:00"],"wednesday":["08:00-18:00"],"thursday":["08:00-18:00"],"friday":["08:00-18:00"],"saturday":["08:00-17:00"],"sunday":[]},"distance":"6127","location_code":"163217"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Anne & Co","street":"Dorpsstraat","number":"8","postal_code":"1452PD","city":"Ilpendam","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"020-4361119","opening_hours":{"monday":["08:00-18:30"],"tuesday":["08:00-18:30"],"wednesday":["08:00-18:30"],"thursday":["08:00-18:30"],"friday":["08:00-18:30"],"saturday":["08:00-17:00"],"sunday":[]},"distance":"5498","location_code":"162150"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}},{"start":"08:30:00","type":5,"price":{"amount":125,"currency":"EUR"}}],"location":"Kadoshop Ieniemienie","street":"Raadhuisstraat","number":"35","postal_code":"1474HH","city":"Oosthuizen","start_time":"08:30:00","price":125,"price_comment":"retailexpress","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-403694","opening_hours":{"monday":["07:30-17:00"],"tuesday":["07:30-17:00"],"wednesday":["07:30-17:00"],"thursday":["07:30-17:00"],"friday":["07:30-17:00"],"saturday":["07:30-15:00"],"sunday":[]},"distance":"7112","location_code":"163100"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}},{"start":"08:30:00","type":5,"price":{"amount":125,"currency":"EUR"}}],"location":"Drukkerij NIVO B.V.","street":"Burg van Baarstraat","number":"42","postal_code":"1131WV","city":"Volendam","start_time":"08:30:00","price":125,"price_comment":"retailexpress","comment":"Dit is een Business Point. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-364830","opening_hours":{"monday":["08:00-18:30"],"tuesday":["08:00-18:30"],"wednesday":["08:00-18:30"],"thursday":["08:00-18:30"],"friday":["08:00-18:30"],"saturday":["08:00-09:00"],"sunday":[]},"distance":"7661","location_code":"157443"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Deen","street":"De Stient","number":"4","postal_code":"1132BE","city":"Volendam","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-367148","opening_hours":{"monday":["08:00-21:00"],"tuesday":["08:00-21:00"],"wednesday":["08:00-21:00"],"thursday":["08:00-21:00"],"friday":["08:00-21:00"],"saturday":["08:00-21:00"],"sunday":[]},"distance":"6588","location_code":"163251"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}},{"start":"08:30:00","type":5,"price":{"amount":125,"currency":"EUR"}}],"location":"Deen","street":"Graaf Willemlaan","number":"24","postal_code":"1141XL","city":"Monnickendam","start_time":"08:30:00","price":125,"price_comment":"retailexpress","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-651249","opening_hours":{"monday":["08:00-19:00"],"tuesday":["08:00-19:00"],"wednesday":["08:00-19:00"],"thursday":["08:00-20:00"],"friday":["08:00-21:00"],"saturday":["08:00-19:00"],"sunday":[]},"distance":"8475","location_code":"161469"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Primera","street":"Burg van Baarstraat","number":"30","postal_code":"1131WV","city":"Volendam","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-323814","opening_hours":{"monday":["08:00-18:00"],"tuesday":["08:00-18:00"],"wednesday":["08:00-18:00"],"thursday":["08:00-18:00"],"friday":["08:00-18:00"],"saturday":["08:00-17:00"],"sunday":[]},"distance":"7745","location_code":"163229"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Firma Wals - Schokker","street":"Zuideinde","number":"15","postal_code":"1151CN","city":"Broek In Waterland","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Postkantoor. Post en pakketten die u op werkdagen v\u00f3\u00f3r de lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"020-4033540","opening_hours":{"monday":["09:00-17:30"],"tuesday":["09:00-17:30"],"wednesday":["09:00-12:30"],"thursday":["09:00-17:30"],"friday":["09:00-17:30"],"saturday":["09:00-15:00"],"sunday":[]},"distance":"9329","location_code":"173816"},{"date":"2016-05-31","time":[{"start":"16:00:00","type":4,"price":{"amount":0,"currency":"EUR"}}],"location":"Plus","street":"Driemaster","number":"3","postal_code":"1483WB","city":"de Rijp","start_time":"16:00:00","price":0,"price_comment":"retail","comment":"Dit is een Pakketpunt. Pakketten die u op werkdagen v\u00f3\u00f3r lichtingstijd afgeeft, bezorgen we binnen Nederland de volgende dag.","phone_number":"0299-671619","opening_hours":{"monday":["08:00-20:00"],"tuesday":["08:00-20:00"],"wednesday":["08:00-20:00"],"thursday":["08:00-20:00"],"friday":["08:00-20:00"],"saturday":["08:00-18:00"],"sunday":["12:00-17:00"]},"distance":"9332","location_code":"161538"}]}});
            }
        };
        return jQuery.ajax(options);
    };


    /*
     * Starts the render of the delivery options with the preset config
     */

    renderPage = function(response) {
        window.mypa.data = response.data;
        renderDays(response.data.delivery);
        return preparePickup(response.data.pickup);
    };

    preparePickup = function(pickupOptions) {
        var filter, i, j, len, len1, name, pickupLocation, ref, time;
        window.mypa.pickupFiltered = filter = {};
        for (i = 0, len = pickupOptions.length; i < len; i++) {
            pickupLocation = pickupOptions[i];
            ref = pickupLocation.time;
            for (j = 0, len1 = ref.length; j < len1; j++) {
                time = ref[j];
                if (filter[name = PICKUP_TIMES[time.start]] == null) {
                    filter[name] = [];
                }
                filter[PICKUP_TIMES[time.start]].push(pickupLocation);
            }
        }
        if (filter[PICKUP_TIMES[MORNING_PICKUP]] == null) {
            jQuery('#mypa-pickup-express').parent().css({
                display: 'none'
            });
        }
        jQuery('label[for=mypa-pickup]').off().bind('click', renderPickup);
        return jQuery('label[for=mypa-pickup-express]').off().bind('click', renderExpressPickup);
    };

    renderPickup = function() {
        renderPickupLocation(window.mypa.pickupFiltered[PICKUP_TIMES[NORMAL_PICKUP]]);
        jQuery('#mypa-pickup').prop('checked', true);
        return false;
    };

    renderExpressPickup = function() {
        renderPickupLocation(window.mypa.pickupFiltered[PICKUP_TIMES[MORNING_PICKUP]]);
        jQuery('#mypa-pickup-express').prop('checked', true);
        return false;
    };

    renderPickupLocation = function(data) {
        var html, index, location, results;
        displayOtherTab();
        jQuery('#mypa-location-container').html('');
        results = [];
        for (index in data) {
            location = data[index];
      console.log(location);
            html = "<div for='mypa-pickup-location-" + index + "' class=\"mypa-row-lg\">\n  <input id=\"mypa-pickup-location-" + index + "\" type=\"radio\" name=\"mypa-pickup-option\" value=\"" + index + "\">\n  <label for='mypa-pickup-location-" + index + "' class='mypa-row-title'>\n    <div class=\"mypa-checkmark mypa-main\">\n      <div class=\"mypa-circle\"></div>\n      <div class=\"mypa-checkmark-stem\"></div>\n      <div class=\"mypa-checkmark-kick\"></div>\n    </div>\n    <span class=\"mypa-highlight\">" + location.location + ", <b>" + location.street + " " + location.number + "</b>,\n    <i>" + (String(Math.round(location.distance / 100) / 10).replace('.', ',')) + " Km</i></span>\n  </label>\n</div>";
            results.push(jQuery('#mypa-location-container').append(html));
        }
        return results;
    };


    /*
     * Renders the available days for delivery
     */

    renderDays = function(deliveryDays) {
        var $el, date, delivery, html, index;
        deliveryDays.sort(orderDays);
        $el = jQuery('#mypa-tabs').html('');
        jQuery('#mypa-delivery-options-container').width();
        for (index in deliveryDays) {
            delivery = deliveryDays[index];
            date = moment(delivery.date);
            html = "<input type=\"radio\" id=\"mypa-date-" + index + "\" class=\"mypa-date\" name=\"mypa-date\" value=\"" + index + "\" checked>\n<label for='mypa-date-" + index + "' class='mypa-tab active'>\n  <span class='day-of-the-week'>" + (date.format('dddd')) + "</span>\n  <br>\n  <span class='date'>" + (date.format('DD MMMM')) + "</span>\n</label>";
            $el.append(html);
        }
        $el.width(deliveryDays.length * 105);
        return makeSlider();
    };


    /*
     * Initializes the slider
     */

    makeSlider = function() {
        var slider;
        slider = window.mypa.slider = {};
        slider.barLength = jQuery('#mypa-tabs-container').outerWidth();
        slider.bars = jQuery('#mypa-tabs').outerWidth() / slider.barLength;
        slider.currentBar = 1;
        jQuery('#mypa-date-slider-right').removeClass('mypa-slider-disabled');
        jQuery('#mypa-date-slider-left').off().bind('click', slideLeft);
        return jQuery('#mypa-date-slider-right').off().bind('click', slideRight);
    };


    /*
     * Event handler for sliding the date slider to the left
     */

    slideLeft = function(e) {
        var $el, left, slider;
        slider = window.mypa.slider;
        if (slider.currentBar === 1) {
            jQuery(e.currentTarget).addClass('mypa-slider-disabled');
        } else if (slider.currentBar < 1) {
            return;
        } else {
            jQuery(e.currentTarget).removeClass('mypa-slider-disabled');
        }
        jQuery('#mypa-date-slider-right').removeClass('mypa-slider-disabled');
        slider.currentBar--;
        $el = jQuery('#mypa-tabs');
        left = slider.currentBar * slider.barLength * -1;
        left = parseInt(left / 104.0) * 104;
        console.log(left);
        return $el.css({
            left: left
        });
    };


    /*
     * Event handler for sliding the date slider to the right
     */

    slideRight = function(e) {
        var $el, left, slider;
        slider = window.mypa.slider;
        if (parseInt(slider.currentBar) === parseInt(slider.bars - 1)) {
            jQuery(e.currentTarget).addClass('mypa-slider-disabled');
        } else if (slider.currentBar >= slider.bars - 1) {
            return;
        } else {
            jQuery(e.currentTarget).removeClass('mypa-slider-disabled');
        }
        jQuery('#mypa-date-slider-left').removeClass('mypa-slider-disabled');
        slider.currentBar++;
        $el = jQuery('#mypa-tabs');
        left = slider.currentBar * slider.barLength * -1;
        console.log('------------');
        console.log(left);
        left = parseInt(left / 104.0) * 104;
        console.log(left);
        return $el.css({
            left: left
        });
    };


    /*
     * Order function for the delivery array
     */

    orderDays = function(dayA, dayB) {
        var dateA, dateB, max;
        dateA = moment(dayA.date);
        dateB = moment(dayB.date);
        max = moment.max(dateA, dateB);
        if (max === dateA) {
            return 1;
        }
        return -1;
    };

    initialize = function() {
        moment.locale(NATIONAL);
        fetchDeliveryOptions();
        jQuery('#mypa-back-arrow').bind('click', displayOtherTab);
        return null;
    };

    jQuery(document).ready(initialize);

}).call(this);

//# sourceMappingURL=myparcel.js.map
